package com.malwaredetection.app.builder;

import com.malwaredetection.app.controller.dto.DetectionDTO;
import com.malwaredetection.app.controller.dto.DeviceDTO;
import com.malwaredetection.app.repository.entity.Detection;
import com.malwaredetection.app.repository.entity.Device;
import org.springframework.stereotype.Component;

import java.sql.Timestamp;
import java.time.Instant;

@Component
public class CustomMapper {

    public Detection dtoToEntity(DetectionDTO detectionDTO) {
        return Detection.builder()
                .detectionID(detectionDTO.getDetectionID())
                .time(Timestamp.from(Instant.now()))
                .nameOfApp(detectionDTO.getNameOfApp())
                .typeOfApp(detectionDTO.getTypeOfApp())
                .type(detectionDTO.getType())
                .build();

    }

    public Device dtoToEntity(DeviceDTO deviceDTO) {
        return Device.builder()
                .deviceUID(deviceDTO.getDeviceUID())
                .deviceModel(deviceDTO.getDeviceModel())
                .deviceType(deviceDTO.getDeviceType())
                .osVersion(deviceDTO.getOsVersion())
                .build();
    }
}
